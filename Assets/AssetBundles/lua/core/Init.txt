import("UnityEngine")

require "core/protobuf"

local EvtD = require("core/EventDispatcher")
dispatcher = EvtD()

--networkService
networkService = uFrame.Kernel.uFrameKernel.Container:Resolve(NetworkService, nil, true)

networkCallback = {}
networkCallback.OnReceivePacket = function(self, packet)
	print("receive packet in networkService(lua)");

	dispatcher:dispatchEvent("OnReceivePacket", packet);
end

local asset = ResourceMgr.Get("AssetBundles/config/addressbookBytes")

local data = asset.bytes
local buffer = SLua.ByteArray(data)

protobuf.register(buffer)